<!DOCTYPE html>
<html id="top">
<!--
  RepoRust_RustDirNav.html
-->
<head>
  <title>Rust Dir Nav</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/ContentMenus.css" />
  <link rel="stylesheet" href="../css/StylesPhoto.css" />
  <link rel="stylesheet" href="../css/StylesSizerComp.css" />
  <link rel="stylesheet" href="../css/StylesWebComponents.css" />
  <!-- <link rel="stylesheet" href="../css/help.css" /> -->
  <link rel="stylesheet" href="../css/Content.css" />
  <link rel="stylesheet" href="../css/ThemeRust.css" />
  <script src="../js/ScriptsWebComponents.js"></script>
  <script src="../js/Content.js"></script>
  <script src="../js/ContentMenus.js"></script>
  <script src="../js/SitePagesForTools.js"></script>
  <link rel="stylesheet" href="../css/FigureSizer.css" />
  <script src="../js/FigureSizer.js"></script>
  <link rel="stylesheet" href="../css/link-nav.css" />
  <link rel="stylesheet" href="../css/content-links.css" />
  <script src="../js/cookies.js"></script>
  <script src="../js/contentElements.js"></script>
  <script src="../js/contentMessages.js"></script>
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "ExploreReposRust.html?src=" + loc;
      }
    }
    function load() {
      loadInExplorer();
      buildBottomMenu();
      postFileName();
      setPersistantElements();
    }
  </script>
</head>
<body id="github" onload="load()">

  <!-- <a id="next" class="hidden" href="../Cpp/CppHome.html"></a>
  <a id="prev" class="hidden" href="../Site/SiteHome.html"></a> -->

  <!-- show-hide with 'about' message -->
  <div id="about" class="hidden" onclick="this.classList.toggle('hidden')">
    RepoRust_RustDirNav.html<br />
    copyright &copy; James Fawcett<br />
    Revised: 11/06/2025
  </div>

  <content-block>
    <!-- <a id="top"></a> -->
    <header>
      <!--<a class="repoLink" href="https://github.com/JimFawcett">JimFawcett Repositories</a>-->
      <div id="pagetitle">
        <h2 id="title">Rust Dir Nav</h2>
        <h4 id="subtitle" class="indent">
          recursive directory walker<br />
        </h4>
      </div>
      <div class="header" style="position:relative; padding:0.0em 0em 0.25em 0em; margin-top:0.05em; border:2px solid var(--dark);">
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett" style="color:var(--light); margin-top:0.25em; margin-left:1.5em;">About</a>
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett/RustDirNav" style="margin-left:1.25em; color:var(--light); ">Rust DirNav Repo</a>
      </div>

    </header>
    <!-- <div class="note" style="border:2px dashed red;">
      Default settings are not working correctly.  Will fix as time permits.
    </div> -->
        <div class="bb-55">
          <div style="width:calc(100vw - 6rem);">
            <div style="float:right; padding:0.5rem 0rem 0.25rem 1rem;">
              <photosizer-block src="pictures/RustDirNav.jpg" width="500" class="photoSizerBlock right" style="margin-top:0; margin-right:-2rem;">
                <span style="
            display: inline-block;
            font-weight: bold;
            font-family: 'Comic Sans MS', Tahoma;
            background-color: #ddd;
            width: 100%;
            padding: 5px 0px;
          ">
                  Fig 1. Directory Navigator Types
                </span>
              </photosizer-block>
            </div>
          </div>
          <div style="width:calc(100vw - 6rem);">
            <div style="clear:both; float:right; padding: 0.25rem 0rem 0.25rem 1rem;">
              <photosizer-block src="pictures/RustDirNavOutput.JPG" width="500" class="photoSizerBlock right clear" style="margin-top:0.5rem; margin-right:-2rem;">
                <span style="
            display: inline-block;
            font-weight: bold;
            font-family: 'Comic Sans MS', Tahoma;
            background-color: #ddd;
            width: 100%;
            padding: 5px 0px;
          ">
                  Fig 1. Directory Navigator Output
                </span>
              </photosizer-block>
            </div>
          </div>
          <h3 id="concept">Concept:</h3>
          <t-b>
            RustDirNav is a facility for Depth-First-Search (DFS) of specified directory tree.  It uses a generic parameter
            to provide application specific do_dir and do_file operations.
            <spacer-15></spacer-15>
          </t-b>
          <h3 id="design">Design:</h3>
          <t-b>
            <t-b>
              There is one struct, DirNav&lt;App&gt;, with methods and functions implementing this design:
              <indent-block class="pad5">
                Methods:
                <ol class="tight">
                  <li>
                    <strong><c-s>new() -> Self</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Create new <c-s>DirNav</c-s> which has visit method for recursive DFS.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>add_pat(&mut self, s&str) -> Self</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Add pattern to match file extension.  Can be chained.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>visit(&mut self, p:&Path)</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Walks directory tree rooted at path p, looking for files matching pattern(s).
                    </div>
                  </li>
                  <li>
                    <strong><c-s>recurse(&mut self, p:bool)</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Sets or resets option to recurse directory tree.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>hide(&mut self, p:bool)</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Sets or resets option to hide directories with no target contents.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>get_app(&mut self) -> &mut app</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Retrieves reference to embedded application, set with generic parameter.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>get_dirs(&self) -> usize</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Retrieves the number of directories entered
                    </div>
                  </li>
                  <li>
                    <strong><c-s>get_files(&self) -> usize</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Retrieves the number of files processed.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>get_patts(&self) -> &SearchPatterns</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Retrieves vector of patterns.
                    </div>
                  </li>
                  <li>
                    <strong><c-s>clear(&self)</c-s></strong>
                    <div style="padding:3px 10px 5px 10px;">
                      Returns DirNav&lt;app&gt; to its initial state.
                    </div>
                  </li>
                </ol>
              </indent-block>
            </t-b>
            <t-b>
              The DirEvent trait constrains the App generic parameter to supply do_dir and do_file methods that
              define what the application will do when the navigator encounters a new directory or file.
            </t-b>
            <div>
              <defn-code style="font-size:1em;">
pub trait DirEvent {
  fn do_dir(&mut self, d: &str);
  fn do_file(&mut self, f: &str);
}
              </defn-code>
            </div>
            <t-b>
              The DirNav package provides a demonstration of the library in its /examples/test1.rs file.  For the
              demo, test1 simply displays each directory once, and all of the files in that directory.  The App
              type is defined by implementing the DirEvent trait, which may contain data members.
            </t-b>
            <t-b>
              The lib.rs file defines all of the DirNav processing and, in its tests section, defines an ApplTest
              type that implements DirEvent and contains a vector that will hold each of the files found during test,
              so we can verify its operation.
            </t-b>
          </t-b>
          <div class="clears"></div>
          <h3 id="oper">Operation:</h3>
          <t-b class="indent">
            See Test1.rs in examples folder for typical usage.
          </t-b>
          <h3>Build:</h3>
          <t-b class="indent">
            Download and, in a command prompt, <c-s>cargo build</c-s> or <c-s>cargo run</c-s>.
          </t-b>
          <h3>Status:</h3>
          <t-b class="indent">
            Version 1.1.0<br />
            Tested on both Windows 10 and Ubuntu Linux
          </t-b>
        </div>
        <div style="height:15rem;"></div>
  </content-block>
  <div id="bottomMenu">
    <div id="keys" class="hidden"></div>
    <div id="sections" class="hidden">
      <div class="darkItem listheader" onclick="toggleSections()">Sections</div>
      <div class="menuBody">
        <a href="#top">top</a>
        <a href="#find">find</a>
        <a href="#like">what I like</a>
        <a href="#table1">resources</a>
        <a href="#exer">exercises</a>
        <a href="#bottom">bottom</a>
      </div>
    </div>
    <div id="pages" class="hidden"></div>
    <div id="url" class="hidden">url</div>
    <div id="goto" class="hidden">url</div>
  </div>
  <a id="bottom"></a>
  <script src="js/RustRepoPages.js"></script>
  <script>buildPages()</script>
  <script>createSiteNavMenu('goto')</script>
  <script src="../js/link-nav.js" defer></script>
  <script>
    setCookie('#pages', 6, 10);
  </script>
</body>
</html>