<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QuadView</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/QuadView.css">
  <link rel="stylesheet" href="css/content.css">
  <script src="../../../../js/Content.js"></script>
  <script src="js/TwoWaySplitter.js" defer></script>
  <script src="js/inputs.js" defer></script>
  <script src="../../../../js/contentMessages.js"></script>
  <script src="js/QuadView.js" defer></script>
  <style>
    html { height:100vh; width: 100vw; }
    body { padding: 0rem 0.75rem; user-select: none;}
    body { font-family: system-ui, Arial, sans-serif; }
    body { min-height: 100dvh; display:flex; flex-direction: column;}
  </style>
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "../../../WebDev/ExploreWebDev.html?src=" + loc;
      }
    }
    function loadInPageHost() {
      const self = window;
      const parent = window.parent;
      const top = window.top;
      if(window.self === window.top) {
        // window.location = "../../PageHost.html?src=/Tests/QuadView/QuadView.html";
        window.location = "../../../PageHost.html?src" + window.location;
        // alert('loadInPageHost');
      }
    }
    function setBackLink() {
      const link = document.getElementById('wdb');
      link.href = '../../WebDevBites_Html.html';
      link.textContent = 'WebDevBites HTML';
    }
    function setTitle() {
      const title = document.getElementById('qvt');
      title.textContent = 'Example: Page Model';
    }
    function load() {
      loadInPageHost();
      loadInputs();
      loadPanes();
      setBackLink();
      setTitle();
      postHostMsg(makeMsg('url', location.href));
    }
  </script>
</head>
<body id="github" onload="load()">
  <h3 id="qvt" style="margin-bottom: 0rem;">Page Model Viewer</h3>
  <!-- <t-b>
    <a id="wdb" href="../../../WebDevBites_Html.html" style="color: var(--dark);">Back to WebDev Bites_HTML</a>
  </t-b> -->
  <details id="setup" class="indent">
    <summary class="instructions">Setup Instructions</summary>
    <div id="setup-content">
      <t-b>
        This is a web viewer. It loads example html, css, and js files for display in the 
        panes, below. The files are specified in QuadView.js. Each example has its own 
        QuadView.js.
      </t-b>
      <t-b>
        You can view content on my github site by clicking this link:
        <a target="_blank" href="https://jimfawcett.github.io/NewSite/Tests/QuadView/QuadView.html">
          example in github site
        </a>.
      </t-b>
      <t-b>
        If you have forked the github site locally, attempting to load files to view 
        will result in Browser CORS errors because browsers, for security reasons, 
        treat each file as belonging to its own domain.
      </t-b>
      <t-b>
        To view content locally you will need to start a local server: 
        <div class="indent"><c-s>python -m http.server 8000</c-s></div>
        at the root directory, e.g., the NewSite directory. 
      </t-b>
      <t-b>
        Then, load an example page using browser address:
        <div class="indent"><c-s>http://localhost:8000/Examples/[example-name]/QuadView.html</c-s></div>
        That will load html, css, and js urls into the input controls using paths
        relative to the loaded page.
      </t-b>
    </div>
  </details>
 
  <div class="inputs">
    <div>
      <label for="htmlUrl">HTML URL</label>
      <input id="htmlUrl" type="url" placeholder="https://example.com/page.html" />
    </div>
    <div>
      <label for="cssUrl">CSS or JS URL</label>
      <input id="cssUrl" type="url" placeholder="https://example.com/styles.css" />
    </div>
    <div>
      <label for="jsUrl">JS or CSS URL</label>
      <input id="jsUrl" type="url" placeholder="https://example.com/app.js" />
    </div>
    <div style="align-self:end;">
      <button id="loadBtn">Load</button>
    </div>
  </div>
  <div style="display:flex; flex-direction:column; flex: 1 1 auto; min-height: 0rem;">
    <div class="lable" style="border:2px solid var(--dark);">
      <span class="left">Rendered Page</span>
      <span class="right">HTML</span>
    </div>
    <two-way-splitter class="split" tabindex="0" style="border:2px solid maroon; --bar-bg: maroon;"
      split-x="50" split-y="50" step="50" bar-size="6" min-pane="48">
      <div id="render" slot="top-left" class="top-left" style="padding:8px;background:#fefefa;"><iframe id="renderFrame" style="border:2px solid green;" src="Test.html"></iframe></div>
      <div id="htmlCode" slot="top-right"   style="padding:8px;background:#fefefa;">top-right</div>
      <div id="jsCode" slot="bottom-left" style="padding:8px;background:#fefefa;">bottom-left</div>
      <div id="cssCode" slot="bottom-right" style="padding:8px;background:#fefefa;">bottom-right</div>
    </two-way-splitter>
    <div class="lable" style="border:2px solid var(--dark);">
      <span class="left">JS or CSS</span>
      <span class="right">CSS or JS</span>
    </div>
    <div style="height:0.5rem;"></div>
  </div>
    <div id="goto" class="hidden"></div>
  <!-- <script type="module"> -->
  <!-- </script> -->
</body>
</html>
