<!DOCTYPE html>
<html id="top">
<!--
  WebDevBites_WebComponents.html
-->
<head>
  <title>WebDev Components</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/ContentMenus.css" />
  <link rel="stylesheet" href="../css/Content.css" />
  <!-- <link rel="stylesheet" href="../css/help.css" /> -->
  <link rel="stylesheet" href="../css/ThemeWebDev.css" />
  <link rel="stylesheet" href="../css/StylesPhoto.css" />
  <link rel="stylesheet" href="../css/StylesSizerComp.css" />
  <link rel="stylesheet" href="../css/StylesWebComponents.css" />
  <script src="../js/ScriptsWebComponents.js"></script>
  <script src="../js/Content.js"></script>
  <script src="../js/ContentMenus.js"></script>
  <script src="../js/SitePagesForTools.js"></script>
  <link rel="stylesheet" href="../css/FigureSizer.css" />
  <script src="../js/FigureSizer.js"></script>
  <script src="js/SplitterComponent.js"></script>
  <link rel="stylesheet" href="../css/link-nav.css" />
  <link rel="stylesheet" href="../css/content-links.css" />
  <script src="../js/cookies.js"></script>
  <script src="../js/contentElements.js"></script>
  <script src="../js/contentMessages.js"></script>
  <link rel="stylesheet" href="../css/prism.css">
  <script src="../js/prism.js"></script>
  <script src="Components/CodeViewerComponent/js/CodeViewer.js" defer></script>
  <style>
    .menuHeader {
      padding:0.0rem 0.5rem 0.25rem 0.5rem;
    }
  </style>
  <style>
    splitter-container {
      --dark: maroon;
    }
    /* .indent {
      margin-left:2rem;
      margin-right:2rem;
      margin:1rem 1rem;
    } */
  </style>
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "ExploreWebDev.html?src=" + loc;
      }
    }
    function load() {
      loadInExplorer();
      buildBottomMenu();
      postFileName();
      postHostMsg(makeMsg('url', location.href));
      setPersistantElements();
    }
  </script>
  <style>
    #github #statustable {
      table-layout: fixed;
      width: calc(100% - 0rem);
    }
    #github td {
      vertical-align: top;
      line-height: 1rem;
    }
    inset.code {
      display:block;
      line-height: 1.25rem;
    }
  </style>
  <style>
    #github table#methods {
      table-layout: fixed;
      width: 100%;
      border-collapse: collapse;
      font-family: system-ui, sans-serif;
    }
    #github table#methods td {
      border: 1px solid var(--dark);
      padding: 0.25rem 0.75rem 0.75rem 0.75rem;
      vertical-align: top;
      word-wrap: break-word;
    }
    #github table#methods th {
      background: var(--dark);
      color: var(--light);
      text-align: left;
    }
    #github table#methods .code {
      font-family: monospace;
      background: #eef;
      /* padding: 0.25rem 0.75rem 0.75rem 0.75rem; */
      border-radius: 3px;
    }
    #github table#tags {
      table-layout: fixed;
      width: 100%;
      border-collapse: collapse;
      font-family: system-ui, sans-serif;
      font-size:0.95rem; 
    }
    #github table#tags td {
      border: 1px solid var(--dark);
      padding: 0.25rem 0.75rem 0.75rem 0.75rem;
      vertical-align: top;
      word-wrap: break-word;
    }
    #github table#tags th {
      background: var(--dark);
      color: var(--light);
      text-align: left;
    }
    #github table#tags .code {
      font-family: monospace;
      background: #eef;
      /* padding: 0.25rem 0.75rem 0.75rem 0.75rem; */
      border-radius: 3px;
    }
  </style>
</head>
<body id="github" onload="load()">

  <!-- <a id="next" class="hidden" href="CppRepos.html"></a>
  <a id="prev" class="hidden" href="CppRepos.html"></a> -->

  <!-- show-hide with 'about' message -->
  <div id="about" class="hidden" onclick="this.classList.toggle('hidden')">
    WebDevBites_WebComponents.html<br />
    copyright &copy; James Fawcett<br />
    Revised: 10/01/2025
  </div>

  <content-block>
    <header>
      <!--<a class="repoLink" href="https://github.com/JimFawcett">JimFawcett Repositories</a>-->
      <div id="pagetitle" class="header">
        <h2 id="title">WebDev Bites: Web Components</h2>
        <h4 id="subtitle" class="indent">
          custom tags with encapsulated style and behavior
        </h4>
      </div>
      <div class="header" style="position:relative; padding:0.0em 0em 0.25em 0em; margin-top:0.125em; border:2px solid var(--dark);">
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett" style="color:var(--atten); margin-top:0.25em; margin-left:1.5em;">About</a>
        <a class="repoLinks" target="_self" href="WebDevHome.html" style="color:var(--atten); margin-left:1.5rem;">WebDev Track</a>
        <a class="repoLinks" target="_self" href="WebDevBites_CompImageViewer.html" style="color:var(--atten); margin-left:1rem;">Image Viewer</a>
        <a class="repoLinks" target="_self" href="WebDevBites_CompSpacer.html" style="color:var(--atten); margin-left:1rem;">Spacer</a>
        <a class="repoLinks" target="_self" href="WebDevBites_CompCodeViewer.html" style="color:var(--atten); margin-left:1rem;">Code Viewer</a>
        <a class="repoLinks undef" target="_self" href="javascript:;" style="color:var(--atten); margin-left:1rem;">Splitter</a>
        <a class="repoLinks undef" target="_self" href="javascript:;" style="color:var(--atten); margin-left:1rem;">Two Panel</a>
      </div>

      <!--<div style="padding-right:25px; position:absolute; top:1.1em; right:13em; z-index:5;">-->
    </header>
    <div style="height:1rem;"></div>
    <!-- <div class="note">
      This page is a placeholder for content to come soon.
    </div> -->
    <!-- <code-viewer font-size="1.1rem" style="float:right;">
      Fig. 1 - Code Viewer
      <template slot="code"><code class="language-html"><div>Hello WebDev World</div></code></template>
    </code-viewer> -->
    <code-viewer highlight="prism" language="html" width="50ch" font-size="1.05rem" style="float:right" trim normalize-indent>
      Fig. 1 - HTML example using prism
      <pre slot="code"><code>
        &lt;div class="card"&gt;Hello WebDev World&lt;/div&gt;
      </code></pre>
    </code-viewer>
    <code-viewer width="50ch" font-size="1.05rem" font-family="monospace" style="clear:both; float:right;" trim normalize-indent>
      Fig. 2 - HTML example without prism
      <template slot="code">
        <div class="card">Hello WebDev World</div>
      </template>
    </code-viewer>

    <tm-b>
      Web components are encapsulated markup, styles, and JavaScript that implement 
      some, often small, piece of functionality. It is instantiated with a tagged block like:
      <inset>
        <pre><code style="font-size: 0.95rem;">&lt;code-viewer trim normalize-indent&gt;
  [content goes here]
&lt;/code-viewer&gt;</code></pre>
      </inset>
    </tm-b>
    <t-b>
      Tag names are required to be hyphenated by the W3C HTML specification to 
      avoid conflicts with future standard tag additions.
    </t-b>
    <t-b>
      <a target="_blank" href="prismjs.com">Prism</a> is a JavaScript and css library designed to support 
      syntax highlighting for many languages.
    </t-b>
    <t-b>
      The CodeViewer component was crafted to support optional use of prism. CodeViewer has many 
      attributes that enable highly controlled rendering.
    </t-b>
    <h3 id="structure">1.0 - Component Structure</h3>
    <tm-b>
      The main parts of web components are: 
      <ul style="width:max-content">
        <li>
          A <strong>JavaScript class</strong> that inherits the methods and attributes of HTMLElement.
          <hr>
          Every component tag block creates an instance of this class.
        </li>
        <li>
          <strong>shadow DOM</strong> that contains the component&apos;s markup and styles.
          <hr>
          Shadow DOM does not return query results so encapsulates its contents.
          <hr>
          The entire component is built with JavaScript including the contents 
          of the shadow DOM.
        </li>
        <li>
          <strong>Slots</strong> are markup elements that accept input from the user.
          <hr>
          That input is often a file name or text.
        </li>
        <li>
          <strong>Attributes</strong> accept input values from an application.
          <hr>
          They usually have default values so use is optional.
        </li>
        <li>
          <strong>Event handling</strong> for button clicks, drags, or other user event.
        </li>
      </ul>
    </tm-b>
    <t-b>
      There several examples of components, including the code viewer above, that show a 
      demo, discuss the design, and provide a description of the component interface.
    </t-b>
    <t-b>
      You can find a list of those by clicking the &quot;Components&quot; button in the left 
      panel of this page.
    </t-b>
    <h3 id="parts" style="margin:0.75rem 0rem 1rem;">2.0 - Component Parts Details</h3>
    <t-b>
      The table below, generated by ChatGPT 5, describes each of the component model parts 
      in more detail.
    </t-b>
<style>
  /* Fixed-layout table */
  table.wc-parts { border-collapse: collapse; width: 100%; table-layout: fixed; }
  table.wc-parts th, table.wc-parts td { padding: .5rem; vertical-align: top; }
  table.wc-parts pre { margin: 0; }

  /* Make only the 3rd column scroll horizontally within the cell */
  table.wc-parts td:nth-child(3) .codebox {
    max-width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    display: block;
    padding: .25rem .35rem;
  }

  /* Keep long code on a single line inside the scroller */
  table.wc-parts td:nth-child(3) pre { white-space: pre; }
</style>

<table class="wc-parts" border="1">
  <colgroup>
    <col style="width: 14rem;">
    <col style="width: 14rem;">
    <col style="width: auto;">
  </colgroup>
  <thead>
    <tr>
      <th>Part</th>
      <th>Role in Component</th>
      <th>Component Code Examples</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">Custom element class</a></td>
      <td>Defines behavior by extending <code>HTMLElement</code> (or a built-in).</td>
      <td><div class="codebox"><pre><code>class XThing extends HTMLElement {
  constructor(){ super(); }
}</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#using_the_lifecycle_callbacks">Lifecycle callbacks</a></td>
      <td>Hooks for setup/teardown and reacting to changes.</td>
      <td><div class="codebox"><pre><code>connectedCallback(){ /* init */ }
disconnectedCallback(){ /* cleanup */ }
static get observedAttributes(){ return ['value']; }
attributeChangedCallback(n,o,v){ /* react */ }</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define">Registration (<code>customElements.define</code>)</a></td>
      <td>Makes the class available as a tag with a dash.</td>
      <td><div class="codebox"><pre><code>customElements.define('x-thing', XThing);</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM">Shadow DOM</a></td>
      <td>Encapsulates DOM &amp; styles; optional but common.</td>
      <td><div class="codebox"><pre><code>this.attachShadow({ mode: 'open' });
this.shadowRoot.innerHTML = `&lt;div&gt;...&lt;/div&gt;`;</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">Template</a></td>
      <td>Reusable markup cloned into the shadow root.</td>
      <td><div class="codebox"><pre><code>const tpl = document.createElement('template');
tpl.innerHTML = `&lt;style&gt;:host{display:block}&lt;/style&gt;`;
this.shadowRoot.append(tpl.content.cloneNode(true));</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:host">Scoped styling (<code>:host</code>, <code>::slotted</code>)</a></td>
      <td>Style the host and projected children inside shadow.</td>
      <td><div class="codebox"><pre><code>this.shadowRoot.innerHTML = `
&lt;style&gt;
:host { display:inline-block; }
::slotted(span.badge){ font-weight:bold; }
&lt;/style&gt;&lt;slot&gt;&lt;/slot&gt;`;</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet#constructable_stylesheets">Constructable Stylesheets</a></td>
      <td>Share CSS across instances via <code>adoptedStyleSheets</code>.</td>
      <td><div class="codebox"><pre><code>const sheet = new CSSStyleSheet();
sheet.replaceSync(':host{contain:content}');
this.shadowRoot.adoptedStyleSheets = [sheet];</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot">Slots</a></td>
      <td>Project light-DOM content into the component.</td>
      <td><div class="codebox"><pre><code>this.shadowRoot.innerHTML = `
&lt;slot name="label"&gt;&lt;/slot&gt; &lt;slot&gt;&lt;/slot&gt;`;</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/define#custom_element_best_practices">Attributes ↔ properties</a></td>
      <td>Reflect external configuration into internal state.</td>
      <td><div class="codebox"><pre><code>get value(){ return this._v ?? ''; }
set value(v){ this._v = String(v); this.setAttribute('value', this._v); }</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent">Events (<code>CustomEvent</code>)</a></td>
      <td>Emit outputs so parents can listen and react.</td>
      <td><div class="codebox"><pre><code>this.dispatchEvent(new CustomEvent('change', {
  detail: { value: this.value }, bubbles:true, composed:true
}));</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA">Accessibility (ARIA &amp; focus)</a></td>
      <td>Make it operable with keyboard/screen readers.</td>
      <td><div class="codebox"><pre><code>this.setAttribute('role','button');
this.tabIndex = 0;
this.addEventListener('keydown', e =&gt; {
  if(e.key==='Enter') this.click();
});</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals#form-associated_custom_elements">Form-associated (advanced)</a></td>
      <td>Participate in forms (value, validity, labels).</td>
      <td><div class="codebox"><pre><code>static formAssociated = true;
internals = this.attachInternals();
internals.setFormValue(this.value);</code></pre></div></td>
    </tr>

    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::part">Styling hooks (<code>::part</code>, <code>exportparts</code>)</a></td>
      <td>Expose internals for external theming.</td>
      <td><div class="codebox"><pre><code>&lt;button part="btn"&gt;Go&lt;/button&gt;
/* outside component */
x-thing::part(btn){ border-radius:.5rem; }</code></pre></div></td>
    </tr>
  </tbody>
</table>
    <h3 id="refs" style="margin:1rem 0rem">3.0 - W3C Component References</h3>
    <t-b>
      The table below, generated by ChatGPT, lists intermediate level references for W3C components.
    </t-b>
<table class="wc-refs" style="border-collapse:collapse; width:100%; table-layout:fixed;" border="1">
  <colgroup>
    <col style="width: 16rem;">
    <col style="width: auto;">
    <col style="width: 16rem;">
  </colgroup>
  <thead>
    <tr>
      <th>Reference</th>
      <th>What you’ll learn (plain-English focus)</th>
      <th>Notes / Level</th>
    </tr>
  </thead>
  <tbody>
    <!-- 1 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements">Using Custom Elements (MDN)</a></td>
      <td>Defining a custom element class, lifecycle callbacks, and registering with <code>customElements.define</code>.</td>
      <td>Start here • Intermediate-friendly</td>
    </tr>
    <!-- 2 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM">Using Shadow DOM (MDN)</a></td>
      <td>Encapsulation, shadow roots, slot projection basics, and why styles don’t leak.</td>
      <td>Core concept • Clear diagrams</td>
    </tr>
    <!-- 3 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots">Using Templates &amp; Slots (MDN)</a></td>
      <td>Structuring markup with <code>&lt;template&gt;</code> and composing with default/named <code>&lt;slot&gt;</code>.</td>
      <td>Hands-on examples</td>
    </tr>
    <!-- 4 -->
    <tr>
      <td><a href="https://web.dev/web-components/">Web Components Guide (web.dev)</a></td>
      <td>Practical overview, patterns, and common pitfalls aimed at working developers.</td>
      <td>Broad survey • Best practices</td>
    </tr>
    <!-- 5 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:host">Styling Components: <code>:host</code>, <code>::slotted</code>, <code>::part</code> (MDN)</a></td>
      <td>How to style the host element, projected children, and expose theming hooks.</td>
      <td>Styling toolbox</td>
    </tr>
    <!-- 6 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet#constructable_stylesheets">Constructable Stylesheets (MDN)</a></td>
      <td>Share CSS across instances with <code>adoptedStyleSheets</code> for performance and simplicity.</td>
      <td>Intermediate • Modern approach</td>
    </tr>
    <!-- 7 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent">Custom Events (MDN)</a></td>
      <td>Emit <code>CustomEvent</code> with <code>detail</code>, choose <code>bubbles</code>/<code>composed</code>, and design outputs.</td>
      <td>Event API essentials</td>
    </tr>
    <!-- 8 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals#form-associated_custom_elements">Form-Associated Elements (MDN)</a></td>
      <td>Make components participate in forms: value, validation, labels, and <code>attachInternals()</code>.</td>
      <td>Intermediate+ • Very useful for inputs</td>
    </tr>
    <!-- 9 -->
    <tr>
      <td><a href="https://web.dev/custom-elements-v1/#accessibility">Accessibility in Custom Elements (web.dev)</a></td>
      <td>ARIA roles, keyboard handling, focus management, and screen-reader considerations.</td>
      <td>Must-read • Practical tips</td>
    </tr>
    <!-- 10 -->
    <tr>
      <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry">CustomElementRegistry (MDN)</a></td>
      <td>Understanding the registry, defining/upgrading elements, and avoiding name clashes.</td>
      <td>Reference • Concise</td>
    </tr>
  </tbody>
</table>

    <div style="height:15em;"></div>
  </content-block>
  <div id="bottomMenu">
    <div id="keys" class="hidden"></div>
    <div id="sections" class="hidden">
      <div class="darkItem listheader" onclick="toggleSections()">Sections</div>
      <div class="menuBody">
        <a href="#top">top</a>
        <a href="#structure">structure</a>
        <a href="#parts">component parts</a>
        <a href="#refs">references</a>
        <a href="#bottom">bottom</a>
      </div>
    </div>
    <div id="pages" class="hidden"></div>
    <div id="url" class="hidden">url</div>
    <div id="goto" class="hidden">url</div>
  </div>
  <a id="bottom"></a>
  <script src="js/WebDevBitesPages.js"></script>
  <script>buildPages()</script>
  <script>createSiteNavMenu('goto')</script>
  <script src="../js/link-nav.js" defer></script>
  <script>
    setCookie('#pages', 5, 10);
  </script>
</body>
</html>