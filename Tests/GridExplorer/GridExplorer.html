<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grid Layout with Adjustable Panels</title>
  <style>
    /* Global reset */
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
    }
    /* Grid container spanning the viewport */
    #container {
      display: grid;
      /* Initially two columns: left panel 40%, right panel 60% */
      grid-template-columns: 50% 50%;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    /* Panel styling */
    .panel {
      overflow: auto;
      transition: all 0.3s ease;
    }
    #leftPanel {
      background: #f0f0f0;
      padding:1rem;
      border:4px solid red;
    }
    #rightPanel {
      background: #fff;
      padding:1rem;
      border:4px solid green;
    }
    /* Controls for demo */
    .controls {
      position: fixed;
      bottom: 10px;
      left: 10px;
      z-index: 10;
    }
    .controls button {
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <div id="container">
    <div id="leftPanel" class="panel">
      Left Panel Content
    </div>
    <div id="rightPanel" class="panel">
      Right Panel Content
    </div>
  </div>
  
  <div class="controls">
    <button onclick="makeLeftBigger()">Make Left Panel Bigger</button>
    <button onclick="makeRightLarger()">Make Right Panel Larger</button>
    <button onclick="occupyLeftPanel()">Occupy Left Panel</button>
    <button onclick="occupyRightPanel()">Occupy Right Panel</button>
  </div>
  
  <script>
    // Helper: update the grid columns based on a left-panel width (in pixels)
    function updateGridColumns(leftWidthPx) {
      const container = document.getElementById('container');
      const containerWidth = container.clientWidth;
      const rightWidthPx = containerWidth - leftWidthPx;
      container.style.gridTemplateColumns = leftWidthPx + 'px ' + rightWidthPx + 'px';
    }
    
    // Helper: update the grid columns based on a left-panel width (in pixels)
    function setGridColumns() {
      const container = document.getElementById('container');
      const containerWidth = container.clientWidth;
      const rightWidthPx = containerWidth - leftWidthPx;
      container.style.gridTemplateColumns = leftWidthPx + 'px ' + rightWidthPx + 'px';
    }
    
    // Increase left panel's width by 50px
    function makeLeftBigger() {

      // updateGridColumns(newLeftWidth);

      const container = document.getElementById('container');
      const leftPanel = document.getElementById('leftPanel');
      const rightPanel = document.getElementById('rightPanel');
      // Ensure both panels are visible
      leftPanel.style.display = 'block';
      rightPanel.style.display = 'block';
      
      const currentLeftWidth = leftPanel.offsetWidth;
      const containerWidth = container.clientWidth;
      const increment = 50;
      let newLeftWidth = currentLeftWidth + increment;
      
      // If the new left width is within one increment of container width, occupy all with left
      if (containerWidth - newLeftWidth <= increment) {
        occupyLeftPanel();
        return;
      }
      
      updateGridColumns(newLeftWidth);
    }
    
    // Increase right panel's width by 50px.
    // Since the grid has two columns, increasing the right panel is done by reducing the left panel's width.
    function makeRightLarger() {

      // updateGridColumns(newLeftWidth);

      const container = document.getElementById('container');
      const leftPanel = document.getElementById('leftPanel');
      const rightPanel = document.getElementById('rightPanel');
      // Ensure both panels are visible
      leftPanel.style.display = 'block';
      rightPanel.style.display = 'block';
      
      const containerWidth = container.clientWidth;
      const currentRightWidth = rightPanel.offsetWidth;
      const increment = 50;
      let newRightWidth = currentRightWidth + increment;
      
      // If the new right width is within one increment of container width, occupy all with right
      if (containerWidth - newRightWidth <= increment) {
        occupyRightPanel();
        return;
      }
      
      // New left width is the remainder
      let newLeftWidth = containerWidth - newRightWidth;
      updateGridColumns(newLeftWidth);
    }
    
    // Let the left panel occupy the entire container:
    // Hide the right panel and reset grid-template-columns to a single column.
    function occupyLeftPanel() {
      const container = document.getElementById('container');
      const leftPanel = document.getElementById('leftPanel');
      const rightPanel = document.getElementById('rightPanel');
      
      // Remove the right panel from the grid
      rightPanel.style.display = 'none';
      // Reset grid to one column that is 100% wide
      container.style.gridTemplateColumns = '100%';
      leftPanel.style.display = 'block';
    }
    
    // Let the right panel occupy the entire container:
    // Hide the left panel and reset the grid-template to a single column for the right panel.
    function occupyRightPanel() {
      const container = document.getElementById('container');
      const leftPanel = document.getElementById('leftPanel');
      const rightPanel = document.getElementById('rightPanel');
      
      // Remove the left panel from the grid
      leftPanel.style.display = 'none';
      // Reset grid to a single column that is 100% wide
      container.style.gridTemplateColumns = '100%';
      rightPanel.style.display = 'block';
    }
  </script>
</body>
</html>
