<!DOCTYPE html>
<html id="top">
<!--
  CodeBites_ChatBotAI.html
-->
<head>
  <title>Code Use AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="../images/favicon.ico" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/ContentMenus.css" />
  <link rel="stylesheet" href="../css/Content.css" />
  <link rel="stylesheet" href="../css/help.css" />
  <link rel="stylesheet" href="../css/ThemeCode.css" />
  <link rel="stylesheet" href="../css/StylesPhoto.css" />
  <link rel="stylesheet" href="../css/StylesSizerComp.css" />
  <link rel="stylesheet" href="../css/StylesWebComponents.css" />
  <script src="../js/ScriptsWebComponents.js"></script>
  <script src="../js/Content.js"></script>
  <script src="../js/ContentMenus.js"></script>
  <script src="../js/SitePagesForTools.js"></script>
  <link rel="stylesheet" href="../css/FigureSizer.css" />
  <script src="../js/FigureSizer.js"></script>
  <link rel="stylesheet" href="../css/link-nav.css" />
  <link rel="stylesheet" href="../css/content-links.css" />
  <script src="../js/cookies.js"></script>
  <script src="../js/contentElements.js"></script>
  <script src="../js/contentMessages.js"></script>
  <script src="../WebDev/Components/CodeViewerComponent/js/CodeViewer.js" defer></script>
  <link rel="stylesheet" href="../WebDev/Components/CodeViewerComponent/css/CodeViewer.css">
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "ExploreCode.html?src=" + loc;
      }
    }
    function load() {
      loadInExplorer();
      buildBottomMenu();
      postFileName();
      setPersistantElements();
    }
  </script>
  <style>
    .ai-pros-cons {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .ai-refactoring {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .ai-unit-tests {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .ai-security {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .ai-documentation {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .rust-naming {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .cpp-naming {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .csharp-naming {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    .python-naming {
      border: 1px solid rgba(5,2,3,0.7);
      padding:0.25rem 1.5rem;
      width: max-content;
    }
    details div h3 {
      margin:0.25rem 0rem;
    }
    details div ol {
      padding:0.5rem 0rem;
      margin: 0rem;
    }
    details div ul {
      padding:0.5rem 0rem;
      margin: 0rem;
    }
    details div li {
      padding:0.05rem 0.0rem;
      margin:0rem;
    }
  </style>
</head>
<body id="github" onload="load()">

  <div id="about" class="hidden" onclick="this.classList.toggle('hidden')">
    CodeBites_ChatBotAI.html<br />
    copyright &copy; James Fawcett<br />
    Revised: 12/26/2025
  </div>

  <content-block>
    <header>
      <!--<a class="repoLink" href="https://github.com/JimFawcett">JimFawcett Repositories</a>-->
      <div id="pagetitle" class="header">
        <h2 id="title">CodeBites: AI Chat Bots</h2>
        <h4 id="subtitle" class="indent">
          basic access through web applications<br />
        </h4>
      </div>
      <div class="header" style="position:relative; padding:0.0rem 0rem 0.25rem 0rem; margin-top:0.125rem; border:2px solid var(--dark);">
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett" style="color:var(--atten); margin-top:0.25rem; margin-left:1.5rem;">About</a>
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett/NewSite/tree/main/Code" style="margin-left: 1rem; color:var(--atten); ">Code Repo</a>
      </div>

    </header>
    <div style="height:1rem;"></div>

    <div class="quote" style="position:relative; top:-0.75rem;">
      “The real risk of AI is not that it starts thinking like us, but that we stop thinking
      because of it.”<br>
      - Perplexity.AI
    </div>
    <div>
      <hr class="spread" />
    </div>
    <h3 id="intro">1.0 - Introduction</h3>
    <tm-b>
      <a target="_blank" href="../documents/AI Chat Bots.pdf">AI Chat Bots.pdf</a>
    </tm-b>
    <t-b>
      <strong>Chat Bots are AI applications</strong> consisting of:
      <ul class="tight" style="margin-left:2rem;">
        <li>
          Web interface that supports accepting text prompts, displaying results, <br>
          and copying results to clipboard or download as file contents.
        </li>
        <li>
          A containerized pre-trained Large Language Model (LLM) running in a Linux server in a data center.
        </li>
        <li>
          Communication infrastructure to ferry prompts to, and results from the LLM.
        </li>
      </ul>
    </t-b>
    <t-b>
      Table 1 lists several of the most popular AI Chatbots and their platforms.
    </t-b>
    <t-b>
      <div style="margin-left:1rem;">
        <h4 id="bots">Table 1. - ChatBot Links</h4>
        <table style="table-layout: fixed;">
          <colgroup>
            <col style="width:12rem;" />
            <col style="width:auto;" />
          </colgroup>
          <thead>
            <tr>
              <th>Chat Bot Link</th>
              <th>Provider Platform</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><a target="_blank" href="https://chatgpt.com/c">ChatGPT 5.2</a></td>
              <td><a target="_blank" href="https://chat.openai.com/docs/">chat.openai.com/docs</a></td>
            </tr>
            <tr>
              <td><a target="_blank" href="https://claude.ai/chat">Claude Sonnet 4.5</a></td>
              <td><a target="_blank" href="https://platform.claude.com/docs/en/home">platform.claude.com/docs</a></td>
            </tr>
            <tr>
              <td><a target="_blank" href="https://gemini.google.com/app">Gemini 3</a></td>
              <td><a target="_blank" href="https://ai.google.dev/gemini-api/docs">ai.google.dev</a></td>
            </tr>
            <tr>
              <td><a target="_blank" href="https://www.perplexity.ai/">Perplexity.ai</a></td>
              <td><a target="_blank" href="https://www.perplexity.ai/hub/helpcenter">perplexity.ai/hub/helpcenter</a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </t-b>
    <div style="height:0.75rem;"></div>
    <t-b>
      <strong>Chat Bots have limitations:</strong>
      <ul class="tight" style="margin-left:2rem;">
        <li>
          Due to browser security settings they cannot read from or write to local repositories. 
        </li>
        <li>
          Because of limitations in their communication infrastructure they cannot read files from 
          a github repository.
        </li>
      </ul>
    </t-b>
    <t-b>
      <strong>There are workarounds:</strong>
      <ul class="tight" style="margin-left:2rem;">
        <li>
          You can paste code from one or two files following a prompt. 
        </li>
        <li>
          To analyze or modify larger file collections you can paste a zip 
          container of the files after the prompt. That can come from either your local drive 
          or downloaded github repository.
        </li>
        <li>
          You can request the Bot to download its results as a file.
        </li>
      </ul>
    </t-b>
    <t-b>
      AI Agents and Consoles are different environments from the Bots that eliminate some of this need for 
      workargounds.  We will discuss each of these in upcoming Bites.
    </t-b>
    <h3 id="example">2.0 - Thread Pool Code Analysis Example</h3>
    <tm-b>
      <a target="_blank" href="https://github.com/JimFawcett/RustThreadPool">RustThreadPool Repository</a>
    </tm-b>
    <t-b>
      Work for this example started by downloading the code for a Rust ThreadPool from my github repository 
      as a zip file.  I then supplied an equivalent to the following prompt to ChatGPT 5.2:
      <div style="padding:0.5rem 1.5rem; margin:0.5rem 0rem; border:2px dashed var(--dark); width:max-content;">
        Generate a list of function line counts and complexities for all of the functions in the zip file I've pasted below.
        <div style="height:0.75rem;"></div>
        <strong>Line count</strong> is the total number of lines in each function including code, whitespace, and comments. <br>
        <strong>Complexity</strong> is simply the number of open braces in each function.<br>
        <div style="height:0.75rem;"></div>
        Also provide count totals for each file.<br>
        <div style="height:0.75rem;"></div>
        Display the lists in an html file using fixed layout tables with colgroup width styles.
      </div>
      <div style="height:0.75rem;"></div>
  <details>
    <summary>Rust ThreadPool Code</summary>
    <code-viewer width="90ch" font-size="1.0rem" highlight="prism" language="css"  bg-color="var(--light)" title-bg-color="#ccc" style="margin-left:-1rem; overflow-x: auto;">
      Figure 1. Rust Thread Pool
      <pre slot="code"><code>    1 /////////////////////////////////////////////////////////////
    2 // rust_thread_pool::lib.rs - threadpool wit BlockingQueue //
    3 //                                                         //
    4 // Jim Fawcett, https://JimFawcett.github.com, 29 Jun 2020 //
    5 /////////////////////////////////////////////////////////////
    6 /*
    7    There are two undefined methods for ThreadPool&lt;M&gt;
    8    that need to be implemented before this design is
    9    complete, e.g.:
   10    - post_work_item posts a function object to input queue
   11    - get_message retrieves results from an output queue
   12 */
   13 #![allow(dead_code)]
   14 use std::fmt::*;
   15 use rust_blocking_queue::*;
   16 use std::thread::*;
   17 use std::sync::*;
   18 use std::default::{Default};
   19
   20 #[derive(Debug)]
   21 pub struct ThreadPool&lt;M&gt;
   22 {
   23     sbq: Arc&lt;BlockingQueue&lt;M&gt;&gt;,
   24     thrd: Vec&lt;Option&lt;JoinHandle&lt;()&gt;&gt;&gt;
   25     /* see note below about Option */
   26 }
   27 impl&lt;M&gt; ThreadPool&lt;M&gt;
   28 where M: Send + 'static
   29 {
   30     /*-----------------------------------------------------
   31       construct threadpool, starting nt threads,
   32       provide threadpool processing as f:F in new
   33     */
   34     pub fn new&lt;F&gt;(nt:u8, f:F) -&gt; ThreadPool&lt;M&gt;
   35     where F: FnOnce(&BlockingQueue&lt;M&gt;) -&gt; () + Send + 'static + Copy
   36     {
   37         /* safely share BlockingQueue with Arc */
   38         let sqm = Arc::new(BlockingQueue::&lt;M&gt;::new());
   39         let mut vt = Vec::&lt;Option&lt;JoinHandle&lt;()&gt;&gt;&gt;::new();
   40         /* start nt threads */
   41         for _i in 0..nt {
   42             /*-----------------------------------------------
   43               ref sq to master shared queue (sqm) is captured
   44               by thread proc closure
   45             */
   46             let sq = Arc::clone(&sqm);
   47             let handle = std::thread::spawn( move || {
   48                 f(&sq);  // thread_pool_processing
   49             });
   50             vt.push(Some(handle));
   51         }
   52         Self { // return newly created threadpool
   53             sbq: sqm,
   54             thrd: vt,
   55         }
   56     }
   57     /*-- wait for threads to finish --*/
   58     pub fn wait(&mut self) {
   59
   60         for handle in &mut self.thrd {
   61             let _ = handle.take().unwrap().join();
   62             /*
   63               This is a hack!
   64               Without the Option, wrapping threadhandle, can't move threadhandle
   65               out of Vec&lt;JoinHandle&lt;()&gt;&gt;, so error in line above.
   66
   67               Can move out of the option as long as we replace
   68               the moved value (take swaps None for Some in option).
   69
   70               I was stumpted until I saw this link.  Apparently a well known hack.
   71               https://users.rust-lang.org/t/spawn-threads-and-join-in-destructor/1613
   72             */
   73         }
   74     }
   75     /*-- post to ThreadPool queue --*/
   76     pub fn post_message(&mut self, _msg:M)
   77     where M:Debug + Clone {
   78         self.sbq.en_q(_msg);
   79     }
   80     /*-- return results to caller --*/
   81     pub fn get_message(&mut self) -&gt; M
   82     where M:Debug + Clone + Default {
   83         /* to be defined */
   84         let m:M = M::default();
   85         m
   86     }
   87 }
   88
   89 #[cfg(test)]
   90 mod tests {
   91     use super::*;
   92     #[test]
   93     fn test_new() {
   94         let test = |bq:&BlockingQueue&lt;String&gt;| {
   95             let msg = bq.de_q();
   96             print!(&quot;&#92;n  {:?}&quot;, msg);
   97         };
   98         let mut tp = ThreadPool::&lt;String&gt;::new(2, test);
   99         let msg = &quot;test message&quot;.to_string();
  100         tp.post_message(msg);
  101         tp.post_message(&quot;quit&quot;.to_string());
  102         tp.wait();
  103     }
  104 }    </code></pre>
    </code-viewer>
  </details>

      <div>
        Here are the ChatGPT 5.2 response artifacts. I've edited styles for display.
      </div>
    </t-b>
  <h4>RustThreadPool Function Line Counts and Complexities</h4>
  <ul class="tights" style="margin-left:2rem;">
    <li>
      <strong>Line count</strong> = total number of lines from the line containing <code>fn</code>
      through the line containing <br>
      its matching closing brace, including comments and blank lines.
    </li>
    <li>
      <strong>Complexity</strong> = number of &quot;<code>{</code>&quot; characters inside the function body
      (including the first one).
    </li>
  </ul>
  <div style="height:0.75rem;"></div>
  <!-- Per-file summary -->
  <table>
    <colgroup>
      <col style="width: 12rem;" />
      <col style="width: 8rem;" />
      <col style="width: 8rem;" />
      <col style="width: 8rem;" />
    </colgroup>
    <caption style="font-size:1.2rem; text-align: left; padding:0.5rem;">Per-file Summary</caption>
    <thead>
      <tr>
        <th>File</th>
        <th>Total lines</th>
        <th>Function count</th>
        <th>Sum of complexities</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>examples/test1.rs</td>
        <td style="text-align:right">157</td>
        <td style="text-align:right">9</td>
        <td style="text-align:right">29</td>
      </tr>
      <tr>
        <td>src/lib.rs</td>
        <td style="text-align:right">104</td>
        <td style="text-align:right">5</td>
        <td style="text-align:right">11</td>
      </tr>
    </tbody>
  </table>
  <div style="height:0.75rem;"></div>
  <!-- Per-function details -->
  <table>
    <colgroup>
      <col style="width: 12rem;" />
      <col style="width: 12rem;" />
      <col style="width: 8rem;" />
      <col style="width: 8rem;" />
      <col style="width: 8rem;" />
    </colgroup>
    <caption style="font-size:1.2rem; text-align: left; padding:0.5rem;">Per-function Metrics</caption>
    <thead>
      <tr>
        <th>File</th>
        <th>Function</th>
        <th>Start line</th>
        <th>Line count</th>
        <th>Complexity</th>
      </tr>
    </thead>
    <tbody>
      <!-- src/lib.rs -->
      <tr>
        <td>src/lib.rs</td>
        <td>new</td>
        <td style="text-align:right">34</td>
        <td style="text-align:right">23</td>
        <td style="text-align:right">4</td>
      </tr>
      <tr>
        <td>src/lib.rs</td>
        <td>wait</td>
        <td style="text-align:right">58</td>
        <td style="text-align:right">17</td>
        <td style="text-align:right">2</td>
      </tr>
      <tr>
        <td>src/lib.rs</td>
        <td>post_message</td>
        <td style="text-align:right">76</td>
        <td style="text-align:right">4</td>
        <td style="text-align:right">1</td>
      </tr>
      <tr>
        <td>src/lib.rs</td>
        <td>get_message</td>
        <td style="text-align:right">81</td>
        <td style="text-align:right">6</td>
        <td style="text-align:right">1</td>
      </tr>
      <tr>
        <td>src/lib.rs</td>
        <td>test_new</td>
        <td style="text-align:right">93</td>
        <td style="text-align:right">11</td>
        <td style="text-align:right">3</td>
      </tr>
      <!-- examples/test1.rs -->
      <tr>
        <td>examples/test1.rs</td>
        <td>test_message_in_pool</td>
        <td style="text-align:right">21</td>
        <td style="text-align:right">13</td>
        <td style="text-align:right">5</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>post_message_to_pool</td>
        <td style="text-align:right">35</td>
        <td style="text-align:right">15</td>
        <td style="text-align:right">2</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>new</td>
        <td style="text-align:right">58</td>
        <td style="text-align:right">5</td>
        <td style="text-align:right">2</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>execute</td>
        <td style="text-align:right">63</td>
        <td style="text-align:right">5</td>
        <td style="text-align:right">2</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>quit</td>
        <td style="text-align:right">68</td>
        <td style="text-align:right">3</td>
        <td style="text-align:right">1</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>test_workitem_in_pool</td>
        <td style="text-align:right">74</td>
        <td style="text-align:right">11</td>
        <td style="text-align:right">3</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>post_workitem_to_pool</td>
        <td style="text-align:right">87</td>
        <td style="text-align:right">15</td>
        <td style="text-align:right">2</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>test0</td>
        <td style="text-align:right">103</td>
        <td style="text-align:right">43</td>
        <td style="text-align:right">11</td>
      </tr>
      <tr>
        <td>examples/test1.rs</td>
        <td>main</td>
        <td style="text-align:right">147</td>
        <td style="text-align:right">11</td>
        <td style="text-align:right">1</td>
      </tr>

    </tbody>
  </table>

  <div style="height:1.5rem;"></div>
  <t-b>
    <strong>Note:</strong><br>
    This analysis would not work as well for C++ because it is significantly harder to parse than Rust 
    and, unlike Rust, supports function overloading.
  </t-b>
  <t-b>
    It may be easier to write a parser specifically for C++ code analysis. You will find an example 
    in the github Repository: <a target="blank" href="https://github.com/JimFawcett/CppParser">CppParser</a>.
  </t-b>
    <!-- <h3>2.0 - LLM Structure</h3>
        <div class="left">
          <div style="float:right; padding:1rem 2.5rem 1.5rem 0rem; border:0px solid red;">
            <photosizer-block src="pictures/LLM2.svg" width="600" class="photoSizerBlock" style="margin-top:0;">
              <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                Fig 1. Inference on Existing Model
              </span>
            </photosizer-block>
          </div>
        </div>
        <div style="height:0.75rem;"></div>
        <t-b>
          <div style="position:relative; left:-1.5rem;">
            Pre-trained LLMs are composed of:
          </div>
         
          <ol class="tight" style="padding-left:3rem;">
            <li>
              A tokenizer that maps incoming text into tokens and translates that into numerical values.
            </li>
            <li>
              Stacks of Deep Neural Networks that recognize patterns in the incoming text. Each Deep 
              Neural Net consists of layers of nodes that collect and normalize incoming data from
              links that multiply the value of their predecessors by pretrained values.
            </li>
            <li>
              Attention mechanisms that dynamically alter link multipliers. 
            </li>
            <li>
              An output stack that normalizes and uses values to select output tokens.
            </li>
          </ol>
        </t-b>
        <div class="left">
          <div style="float:right; padding:1rem 0rem 1.5rem 1rem;">
            <photosizer-block src="pictures/deep_neural_network.svg" width="600" class="photoSizerBlock" style="margin-top:0;">
              <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                Fig 1. Deep Neural Network
              </span>
            </photosizer-block>
          </div>
        </div>
        <div style="height:0.75rem;"></div>
        <div class="left">
          <div style="float:right; padding:1rem 0rem 1.5rem 1rem;">
            <photosizer-block src="pictures/stacked_transformers.svg" width="600" class="photoSizerBlock" style="margin-top:0;">
              <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                Fig 1. Stacked Transformers
              </span>
            </photosizer-block>
          </div>
        </div>
        <div style="height:0.75rem;"></div>
        <h3 class="clear">3.0 - Browser Limitations</h3>
        <div style="height:0.75rem;"></div>
        <div class="left">
          <div style="float:right; padding:1rem 0rem 1.5rem 1rem;">
            <photosizer-block src="pictures/browser_capabilities.svg" width="600" class="photoSizerBlock" style="margin-top:0;">
              <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                Fig 1. Browser Capabilities
              </span>
            </photosizer-block>
          </div>
        </div>
        <div style="height:0.75rem;"></div> -->

<div style="height:15rem;"></div>
</content-block>
  <div id="bottomMenu">
    <div id="keys" class="hidden"></div>
    <div id="sections" class="hidden">
      <div class="darkItem listheader" onclick="toggleSections()">Sections</div>
      <div class="menuBody">
        <a href="#top">top</a>
        <a href="#intro">introduction</a>
        <a href="#example">example</a>
        <a href="#bottom">bottom</a>
      </div>
    </div>
    <div id="pages" class="hidden"></div>
    <div id="url" class="hidden">url</div>
    <div id="goto" class="hidden">url</div>
  </div>
  <a id="bottom"></a>
  <script src="js/CodeBitesPages.js"></script>
  <script>buildPages()</script>
  <script>createSiteNavMenu('goto')</script>
  <script src="../js/link-nav.js" defer></script>
  <script>
    setCookie('#pages', 3, 10);
  </script>
</body>
</html>