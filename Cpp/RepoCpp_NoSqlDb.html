<!DOCTYPE html>
<html id="top">
<!--
  RepoCpp_NoSqlDb.html
-->
<head>
  <title>C++ NoSql Db</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/ContentMenus.css" />
  <link rel="stylesheet" href="../css/StylesPhoto.css" />
  <link rel="stylesheet" href="../css/StylesSizerComp.css" />
  <link rel="stylesheet" href="../css/StylesWebComponents.css" />
  <!-- <link rel="stylesheet" href="../css/help.css" /> -->
  <link rel="stylesheet" href="../css/Content.css" />
  <link rel="stylesheet" href="../css/ThemeCpp.css" />
  <script src="../js/ScriptsWebComponents.js"></script>
  <script src="../js/Content.js"></script>
  <script src="../js/ContentMenus.js"></script>
  <script src="../js/SitePagesForTools.js"></script>
  <link rel="stylesheet" href="../css/FigureSizer.css" />
  <script src="../js/FigureSizer.js"></script>
  <link rel="stylesheet" href="../css/link-nav.css" />
  <link rel="stylesheet" href="../css/content-links.css" />
  <script src="../js/cookies.js"></script>
  <script src="../js/contentElements.js"></script>
  <script src="../js/contentMessages.js"></script>
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "ExploreReposCpp.html?src=" + loc;
      }
    }
    function load() {
      loadInExplorer();
      buildBottomMenu();
      postFileName();
      setPersistantElements();
    }
  </script>
</head>
<body id="github" onload="load()">

  <!-- <a id="next" class="hidden" href="../Cpp/CppHome.html"></a>
  <a id="prev" class="hidden" href="../Site/SiteHome.html"></a> -->

  <!-- show-hide with 'about' message -->
  <div id="about" class="hidden" onclick="this.classList.toggle('hidden')">
    RepoCpp_NoSqlDb.html<br />
    copyright &copy; James Fawcett<br />
    Revised: 11/18/2025
  </div>

  <div>
    <!-- <a id="top"></a> -->
    <header>
      <!--<a class="repoLink" href="https://github.com/JimFawcett">JimFawcett Repositories</a>-->
      <div id="pagetitle">
        <h2 id="title">No SQL Database</h2>
        <h4 id="subtitle" class="indent">
          key-value data store
        </h4>
      </div>
      <div class="header" style="position:relative; padding:0.0em 0em 0.25em 0em; margin-top:0.05em; border:2px solid var(--dark);">
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett" style="color:var(--light); margin-top:0.25em; margin-left:1.5em;">About</a>
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett/CppNoSqlDb" style="margin-left:1.25em; color:var(--light); ">CppNoSqlDb Repo</a>
      </div>

    </header>
    <!-- <div class="note" style="border:2px dashed red;">
      Default settings are not working correctly.  Will fix as time permits.
    </div> -->
        <indent-blocks>
          <h3 id="concept">1.0 Concept</h3>
          <div class="right">
            <div style="float:right; padding:0rem 0rem 0.5rem 1rem;">
              <photosizer-block src="pictures/NoSqlDb_PackageDiagram.jpg" width="500" class="photoSizerBlock" style="margin-top:0;">
                <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                  Fig 1. NoSqlDb Packages
                </span>
              </photosizer-block>
            </div>
          </div>
          <div class="right clear">
            <div style="clear:both; float:right; padding:0rem 0rem 0.5rem 1rem;">
              <photosizer-block src="pictures/DbCoreCode.JPG" width="500" class="photoSizerBlock" style="margin-top:0;">
                <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                  Fig 2. DbCore Code
                </span>
              </photosizer-block>
            </div>
          </div>
          <div class="right clear">
            <div style="clear:both; float:right; padding:0rem 0rem 0.5rem 1rem;">
              <photosizer-block src="pictures/DbElementCode.JPG" width="500" class="photoSizerBlock" style="margin-top:0;">
                <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                  Fig 3. DbElement Code
                </span>
              </photosizer-block>
            </div>
          </div>
          <t-b>
            The data models used by noSQL databases are usually based on key/value pairs, document stores,
            or networks. noSQL processing favors modeling flexibility, the ability to easily scale out
            across multiple machines, and performance with very large datasets. For that flexibility
            they give up real-time data consistency, accepting application enforced eventual consistency.
            They give up a formal query mechanism (hence the name). And, they may give up Durability
            guarantees by only occasionally writing to persistant storage in order to provide high
            throughput with large volumes of data.
            <div style="height:0.75em;"></div>
            The choice to use
            <a href="https://www.paperplanes.de/2010/7/5/relational_data_document_databases_schema_design.html">SQL or noSQL</a>
            data management is driven by the nature of its uses.
            Managing metadata in a large repository, for example, could be well suited for implementation with a NoSQL database.
          </t-b>
          <h3 id="design">2.0 Design</h3>
          <div id="fig2"></div><div id="fig3"></div>
          <t-b>
            This prototype design is factored into several distinct parts:
            <ol>
              <li>
                <strong>DbCore&lt;P&gt; package:</strong> provides an in-memory key-value database, based on the
                C++ std::unordered_map&lt;key, value&gt;.  It provides only in-memory storage, leaving other
                database operations, like querys and pesistance to other packages.
              </li>
              <li>
                <strong>DbElement&lt;P&gt; package:</strong> represents a single record in the database. It contains
                metadata items name, time-date, and children.  Children provide a way to easily establish relationships
                between records, perhaps based on dependencies.  The template parameter P (Payload) represents the data we want
                to store, and the metadata simply provides information about each of the P values.
              </li>
              <li>
                <strong>Query&lt;P&gt; package:</strong> supports extracting information from the database. Queries
                start with a key set, looking for values and or keys that satisfy some condition, and returns a new
                key set with all the keys for records that match.  Note that this design supports making compound queries
                where each subquery operates on the key set returned by its predecessor subquery, resulting in a progressive
                narrowing of the returned keys.  You might think of this Query process as returning a new,
                probably smaller database, e.g., set of keys and values.
              </li>
              <li>
                <strong>Persist&lt;P&gt; package:</strong> provides durable storage for the database or some
                shard of the database. Persist simply makes a query, usually returning the entire database,
                and saves that to a file.  In this design we use XML storage, but JSON data or some other data
                format would work as well, and it is easy to configure the database for alternate storage formats
                by using a different Persist package. Note that it is, with this design, easy to shard partial
                contents of the database to a shard file.  The only thing required to shard is to make a query
                that returns less than the entire database.
              </li>
            </ol>
            <t-b>
              Note that we can easily provide the equivalent of stored procedures by defining and saving
              lambdas, each of which execute some specific query.  These could be saved in a container for
              future use.  In fact, that container could be just another instance of NoSqlDb.
            </t-b>
          </t-b>
          <h3 id="impl">3.0 Implementation</h3>
          <t-b>
            NoSqlDb code was built with Visual Studio Community Edition - 2019 and tested on Windows 10.
          </t-b>
          <h3 id="status">4.0 Status</h3>
          <t-b>
            The code has a demonstration package, TestClass, that was used to demonstrate how a CSE687 course
            project could convincingly show that it met project requirements
            <a href="ProjStmts-687/Project1-S2018.htm">(Project #1, Spring 2018)</a>.
            <div style="height:0.75em;"></div>
            I intend to use this facility in some up-coming projects, but it has not yet been used in a
            larger application, so it is possible there are latent errors that have not yet be discovered.
          </t-b>
          <t-b>
            This demonstration needs an example application that creates and uses NoSqlDb intance(s).
          </t-b>
        <div style="height:15rem;"></div>
      </t-b>
  <div id="bottomMenu">
    <div id="keys" class="hidden"></div>
    <div id="sections" class="hidden">
      <div class="darkItem listheader" onclick="toggleSections()">Sections</div>
      <div class="menuBody">
        <a href="#top">top</a>
        <a href="#bottom">bottom</a>
      </div>
    </div>
    <div id="pages" class="hidden"></div>
    <div id="url" class="hidden">url</div>
    <div id="goto" class="hidden">url</div>
  </div>
  <a id="bottom"></a>
  <script src="js/CppRepoPages.js"></script>
  <script>buildPages()</script>
  <script>createSiteNavMenu('goto')</script>
  <script src="../js/link-nav.js" defer></script>
  <script>
    setCookie('#pages', 15, 10);
  </script>
</body>
</html>