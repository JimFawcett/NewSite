<!DOCTYPE html>
<html id="top">
<!--
  RepoCpp_ObjectFactories.html
-->
<head>
  <title>C++ Object Factories</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/ContentMenus.css" />
  <link rel="stylesheet" href="../css/StylesPhoto.css" />
  <link rel="stylesheet" href="../css/StylesSizerComp.css" />
  <link rel="stylesheet" href="../css/StylesWebComponents.css" />
  <!-- <link rel="stylesheet" href="../css/help.css" /> -->
  <link rel="stylesheet" href="../css/Content.css" />
  <link rel="stylesheet" href="../css/ThemeCpp.css" />
  <script src="../js/ScriptsWebComponents.js"></script>
  <script src="../js/Content.js"></script>
  <script src="../js/ContentMenus.js"></script>
  <script src="../js/SitePagesForTools.js"></script>
  <link rel="stylesheet" href="../css/FigureSizer.css" />
  <script src="../js/FigureSizer.js"></script>
  <link rel="stylesheet" href="../css/link-nav.css" />
  <link rel="stylesheet" href="../css/content-links.css" />
  <script src="../js/cookies.js"></script>
  <script src="../js/contentElements.js"></script>
  <script src="../js/contentMessages.js"></script>
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "ExploreReposCpp.html?src=" + loc;
      }
    }
    function load() {
      loadInExplorer();
      buildBottomMenu();
      postFileName();
      setPersistantElements();
    }
  </script>
  <style>
    body { padding:1rem 2rem; }
  </style>
</head>
<body id="github" onload="load()">

  <!-- <a id="next" class="hidden" href="../Cpp/CppHome.html"></a>
  <a id="prev" class="hidden" href="../Site/SiteHome.html"></a> -->

  <!-- show-hide with 'about' message -->
  <div id="about" class="hidden" onclick="this.classList.toggle('hidden')">
    RepoCpp_ObjectFactories.html<br />
    copyright &copy; James Fawcett<br />
    Revised: 11/21/2025
  </div>

  <div>
    <!-- <a id="top"></a> -->
    <header>
      <!--<a class="repoLink" href="https://github.com/JimFawcett">JimFawcett Repositories</a>-->
      <div id="pagetitle">
        <h2 id="title">C++ Object Factories</h2>
        <h4 id="subtitle" class="indent">
          create instances of opaque type
        </h4>
      </div>
      <div class="header" style="position:relative; padding:0.0em 0em 0.25em 0em; margin-top:0.05em; border:2px solid var(--dark);">
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett" style="color:var(--light); margin-top:0.25em; margin-left:1.5em;">About</a>
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett/ObjectFactories" style="margin-left:1.25em; color:var(--light);">ObjectFactories Repo</a>
      </div>

    </header>
    <!-- <div class="note" style="border:2px dashed red;">
      Default settings are not working correctly.  Will fix as time permits.
    </div> -->
        <div class="right">
          <div style="float:right; padding:2rem 0rem 0.5rem 1rem;">
            <photosizer-block src="pictures/WidgetFactory.JPG" width="500" class="photoSizerBlock" style="margin-top:0;">
              <span style="
        display: inline-block;
        font-weight: bold;
        font-family: 'Comic Sans MS', Tahoma;
        background-color: #ddd;
        width: 100%;
        padding: 5px 0px;
      ">
                Fig 1. Widget Factory
              </span>
            </photosizer-block>
          </div>
        </div>
        <div class="right clear">
          <div style="clear:both; float:right; padding:0rem 0rem 0.5rem 1rem;">
            <photosizer-block src="pictures/AbstractFactory.JPG" width="500" class="photoSizerBlock" style="margin-top:0;">
              <span style="
        display: inline-block;
        font-weight: bold;
        font-family: 'Comic Sans MS', Tahoma;
        background-color: #ddd;
        width: 100%;
        padding: 5px 0px;
      ">
                Fig 1. Abstract Factory
              </span>
            </photosizer-block>
          </div>
        </div>
        <indent-blocks>
          <h3 id="concept">1.0 Concept</h3>
          <t-b>
            When clients bind to an interface implemented by some class, they bind to the invariant text of
            the interface, not the possibly varying class implementation.  So any changes to the class&apos;s
            implementation won&apos;t cause build failures.
            <div style="height:0.75em;"></div>
            However, if the client creates an instance of the class by calling new and binds that to an interface
            pointer, the creation process binds the client to the implementation (the client had to use the class name).
            <div style="height:0.75em;"></div>
            Object factories allow us to bind not only to the interface abstraction, but also to the factory
            abstraction for creating instances.  As long as we don&apos;t put any implementation details in the factory&apos;s header file
            the client only binds to abstractions and is not dependent on the specific class implementation.
            <div style="height:0.75em;"></div>
            Dependency Inversion is the name we use for this approach.  Instead of clients depending on implementation
            details, both the client and the implementation depend on abstractions: Object Factory for creation, and
            Interface for operation.
          </t-b>
          <h3 id="design">2.0 Design</h3>
          <t-b>
            This repository contains three example Dependency Inversion Principle (DIP) designs:
            <ul>
              <li>
                <strong>Widget Factory</strong>
                <indent-block>
                  A classic form of DIP and most frequently used.
                </indent-block>
              </li>
              <li>
                <strong>Abstract Factory</strong>
                <indent-block>
                  Supports adding additional interfaces to provide language needed
                  by new functionality, without breaking clients using the original capability.
                  <div style="height:0.75em;"></div>
                  In this design, a class that needs to be modified inherits from the originial interface,
                  and adds inheritance from a new interface.
                  <div style="height:0.75em;"></div>
                  Clients only using the original capability have pointers only to that interface.
                  Clients that need the new functionality obtain a pointer to the new interface using
                  dynamic_cast.
                </indent-block>
              </li>
              <li>
                <strong>Program To Interface</strong>
                <indent-block>
                  This example builds a factory using a map with keys
                  that identify classes used to create instances, and values that are creational functions for
                  for instances of each class.
                </indent-block>
              </li>
            </ul>
          </t-b>
          <h3 id="build">3.0 Build</h3>
          <t-b>
            These demonstration codes were built with Visual Studio Community Edition - 2019 and tested on Windows 10.
          </t-b>
        </indent-blocks>
       <div style="height:15rem;"></div>
      </t-b>
  <div id="bottomMenu">
    <div id="keys" class="hidden"></div>
    <div id="sections" class="hidden">
      <div class="darkItem listheader" onclick="toggleSections()">Sections</div>
      <div class="menuBody">
        <a href="#top">top</a>
        <a href="#bottom">bottom</a>
      </div>
    </div>
    <div id="pages" class="hidden"></div>
    <div id="url" class="hidden">url</div>
    <div id="goto" class="hidden">url</div>
  </div>
  <a id="bottom"></a>
  <script src="js/CppRepoPages.js"></script>
  <script>buildPages()</script>
  <script>createSiteNavMenu('goto')</script>
  <script src="../js/link-nav.js" defer></script>
  <script>
    setCookie('#pages', 32, 10);
  </script>
</body>
</html>