<!DOCTYPE html>
<html id="top">
<!--
  RepoCpp_TextFinder.html
-->
<head>
  <title>C++ TextFinder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
  <link rel="stylesheet" href="../css/reset.css" />
  <link rel="stylesheet" href="../css/ContentMenus.css" />
  <link rel="stylesheet" href="../css/StylesPhoto.css" />
  <link rel="stylesheet" href="../css/StylesSizerComp.css" />
  <link rel="stylesheet" href="../css/StylesWebComponents.css" />
  <!-- <link rel="stylesheet" href="../css/help.css" /> -->
  <link rel="stylesheet" href="../css/Content.css" />
  <link rel="stylesheet" href="../css/ThemeCpp.css" />
  <script src="../js/ScriptsWebComponents.js"></script>
  <script src="../js/Content.js"></script>
  <script src="../js/ContentMenus.js"></script>
  <script src="../js/SitePagesForTools.js"></script>
  <link rel="stylesheet" href="../css/FigureSizer.css" />
  <script src="../js/FigureSizer.js"></script>
  <link rel="stylesheet" href="../css/link-nav.css" />
  <link rel="stylesheet" href="../css/content-links.css" />
  <script src="../js/cookies.js"></script>
  <script src="../js/contentElements.js"></script>
  <script src="../js/contentMessages.js"></script>
  <script>
    function loadInExplorer() {
      const loc = window.location;
      if(loc === window.top.location) {
        window.location = "ExploreReposCpp.html?src=" + loc;
      }
    }
    function load() {
      loadInExplorer();
      buildBottomMenu();
      postFileName();
      setPersistantElements();
    }
  </script>
</head>
<body id="github" onload="load()">

  <!-- <a id="next" class="hidden" href="../Cpp/CppHome.html"></a>
  <a id="prev" class="hidden" href="../Site/SiteHome.html"></a> -->

  <!-- show-hide with 'about' message -->
  <div id="about" class="hidden" onclick="this.classList.toggle('hidden')">
    RepoCpp_TextFinder.html<br />
    copyright &copy; James Fawcett<br />
    Revised: 11/17/2025
  </div>

  <content-block>
    <!-- <a id="top"></a> -->
    <header>
      <!--<a class="repoLink" href="https://github.com/JimFawcett">JimFawcett Repositories</a>-->
      <div id="pagetitle">
        <h2 id="title">TextFinder</h2>
        <h4 id="subtitle" class="indent">
          find all files in directory tree with text that matches a regular expression
        </h4>
      </div>
      <div class="header" style="position:relative; padding:0.0em 0em 0.25em 0em; margin-top:0.05em; border:2px solid var(--dark);">
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett" style="color:var(--light); margin-top:0.25em; margin-left:1.5em;">About</a>
        <a class="repoLinks" target="_blank" href="https://github.com/JimFawcett/TextFinder" style="margin-left:1.25em; color:var(--light); ">TextFinder Repo</a>
      </div>

    </header>
    <!-- <div class="note" style="border:2px dashed red;">
      Default settings are not working correctly.  Will fix as time permits.
    </div> -->
        <indent-blocks>
          <h3 id="concept">1.0 Concept</h3>
          <t-b>
            Textfinder accepts options from its command line and searches for files in a directory tree,
            that match one or more file patterns, looking for text that matches a specified regular expression.
          </t-b>
          <div class="right">
            <div style="float:right; padding:0rem 0rem 0.5rem 1rem;">
              <photosizer-block src="pictures/TextFinderPackageDiagram.JPG" width="300" class="photoSizerBlock" style="margin-top:0;">
                <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                  Fig 1. TextFinder Packages
                </span>
              </photosizer-block>
            </div>
          </div>
          <div class="right clear">
            <div style="clear:both; float:right; padding:0rem 0rem 0.5rem 1rem;">
              <photosizer-block src="pictures/TextFinderClassDiagram.JPG" width="300" class="photoSizerBlock" style="margin-top:0;">
                <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                  Fig 2. TextFinder Classes
                </span>
              </photosizer-block>
            </div>
          </div>
          <div class="right clear">
            <div style="clear:both; float:right; padding:0rem 0rem 0.5rem 1rem;">
              <photosizer-block src="pictures/TextFinderOutput.JPG" width="300" class="photoSizerBlock" style="margin-top:0;">
                <span style="
          display: inline-block;
          font-weight: bold;
          font-family: 'Comic Sans MS', Tahoma;
          background-color: #ddd;
          width: 100%;
          padding: 5px 0px;
        ">
                  Fig 3. TextFinder Output
                </span>
              </photosizer-block>
            </div>
          </div>
          <h3 id="design">2.0 Design</h3>
          <t-b>
            TextFinder uses facilities of DirExplorerT, TextSearch, Application, FileSystem, and
            CppUtilities packages.  TextFinder, the program executive, uses command line arguments
            to configure its operation by
            configuring DirExplorerT with path, file pattern, and regular expression declarations.
            <div style="height:0.75em"></div>
            DirExplorerT&lt;Application&gt; is a reusable directory navigator that supports
            application specific processing of files and directories through its Application
            template parameter.
            <div style="height:0.75em"></div>
            Application holds an ITextFinder interface pointer that allows
            it to use searching facilities in TextFinder, e.g., method searchFile(filename),
            which uses a regular expression data member of TextFinder.
            <div style="height:0.75em"></div>
            Eventually, TextFinder will serve as an example of the use of threads to build
            software pipelines and parallel processing blocks.  The plan is to provide solutions
            for synchronous (this solution), pipeline, and parallel processing demos.
            <div style="height:0.75em"></div>
            The structure used for this application makes it easy to set up a multi-threaded
            pipeline: just put a blocking queue in TextFinder to receive filenames from
            DirExplorerT&lt;Application&gt; and run each of them on a dedicated thread.
            <div style="height:0.75em"></div>
            It will be interesting to measure the performance of each of these designs to understand how
            effective the use of concurrency will be for working sets of various sizes.
          </t-b>
          <h3 id="impl">3.0 Implementation</h3>
          <t-b>
            Find C++ source code in
            <a href="https://github.com/JimFawcett/TextFinder">TextFinder repository</a>.
            <div style="height:0.75em"></div>
            <div>
              TextFinder code was built with Visual Studio Community Edition - 2019 and tested on Windows 10.
              It was compiled with the C++17 option set in Properties > C/C++ > language.
            </div>
          </t-b>
          <h3 id="oper">4.0 Operation</h3>
          <t-b>
            TextFinder processes its command line options using ProcessCmdLine then configures a few parameters
            based on those options. It provides a reference to itself, typed as an ITextFinder interface, to
            DirExplorerT&apos;s Application instance.
            <div style="height:0.75em"></div>
            That allows the instance to use TextFinder&apos;s searchFile(filename) method. This structure was used
            to keep all of the searching operations in TextFinder, and all of the navigation operations in
            DirExplorerT&lt;Application&gt; and Application.
            <div style="height:0.75em"></div>
            The callback from Application to TextFinder was simple to implement and helps us apply the
            &quot;Single Responsibility Principle&quot;
            <div style="height:0.75em"></div>
            When TextFinder starts it configures its parts; then it starts DirExplorerT&lt;Application&gt;
            on a depth first walk through a specified directory tree, e.g., that path supplied on the command line.
            DirExplorerT&lt;Application&gt; and Application collaborate to do all of the remaining processing.
            <div style="height:0.75em"></div>
            TextFinder output, shown in the diagram, illustrates how useful TextFinder can be.  In the last part
            of the output TextFinder was asked to locate any files that contain the text &quot;&lt;flex-break&gt;&quot;.
            To do that it had to search more than 6000 directories, which it did in about two seconds.
          </t-b>
          <h3 id="status">5.0 Status</h3>
          <t-b>
            Textfinder is installed and stable.  The only expected changes are to provide a WPF GUI that allows the
            user to use dialog to find search directory, to supply a regular expression in a textblock, and to supply
            options in check boxes.  The GUI application would then spawn a TextFinder process with the appropriate
            command line.
          </t-b>
        <div style="height:15rem;"></div>
  </content-block>
  <div id="bottomMenu">
    <div id="keys" class="hidden"></div>
    <div id="sections" class="hidden">
      <div class="darkItem listheader" onclick="toggleSections()">Sections</div>
      <div class="menuBody">
        <a href="#top">top</a>
        <a href="#find">find</a>
        <a href="#like">what I like</a>
        <a href="#table1">resources</a>
        <a href="#exer">exercises</a>
        <a href="#bottom">bottom</a>
      </div>
    </div>
    <div id="pages" class="hidden"></div>
    <div id="url" class="hidden">url</div>
    <div id="goto" class="hidden">url</div>
  </div>
  <a id="bottom"></a>
  <script src="js/CppRepoPages.js"></script>
  <script>buildPages()</script>
  <script>createSiteNavMenu('goto')</script>
  <script src="../js/link-nav.js" defer></script>
  <script>
    setCookie('#pages', 4, 10);
  </script>
</body>
</html>